create table if not exists sys_organ(
id bigint unsigned primary key,
organ_name varchar(64) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null
)default charset=utf8mb4;

create table if not exists sys_user(
id bigint unsigned primary key,
user_name varchar(64) not null,
user_phone varchar(32) not null,
user_password varchar(128) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_user_phone (user_phone)
)default charset=utf8mb4;

create table if not exists sys_teacher(
id bigint unsigned primary key,
teacher_name varchar(64) not null,
teacher_phone varchar(32) not null,
teacher_password varchar(128) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_teacher_phone (teacher_phone)
)default charset=utf8mb4;

create table if not exists sys_parent(
id bigint unsigned primary key,
parent_name varchar(64) not null,
parent_phone varchar(32) not null,
parent_password varchar(128) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_parent_phone (parent_phone)
)default charset=utf8mb4;

create table if not exists sys_ref_organ_user(
id bigint unsigned primary key,
organ_id bigint unsigned not null,
organ_user_id bigint unsigned not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_organ_user_ids (organ_id, organ_user_id)
)default charset=utf8mb4;

create table if not exists sys_ref_organ_teacher(
id bigint unsigned primary key,
organ_id bigint unsigned not null,
teacher_id bigint unsigned not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_organ_teacher_ids (organ_id, teacher_id)
)default charset=utf8mb4;

create table if not exists sys_ref_organ_parent(
id bigint unsigned primary key,
organ_id bigint unsigned not null,
parent_id bigint unsigned not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_organ_parent_ids (organ_id, parent_id)
)default charset=utf8mb4;

create table if not exists sys_role(
id bigint unsigned primary key,
role_name varchar(64) not null,
permission_code varchar(1024) not null,
is_visible tinyint(1) default 1 not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_role_name (role_name)
)default charset=utf8mb4;

create table if not exists sys_module(
id bigint unsigned primary key,
module_name varchar(64) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_module_name (module_name)
)default charset=utf8mb4;

create table if not exists sys_permission(
id bigint unsigned primary key,
module_id bigint unsigned not null,
permission_code varchar(64) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_permission_code (permission_code)
)default charset=utf8mb4;

create table if not exists sys_organ_user_permission(
id bigint unsigned primary key,
organ_user_id bigint unsigned not null,
permission_code varchar(1024) not null,
is_active tinyint(1) default 1 not null,
create_time datetime not null,
modify_time datetime null,
create_user bigint unsigned not null,
modify_user bigint unsigned null,
version bigint unsigned default 0 not null,
unique index uk_organ_user_id (organ_user_id)
)default charset=utf8mb4;
